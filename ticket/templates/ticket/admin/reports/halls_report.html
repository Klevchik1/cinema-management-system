<h3 style="color: var(--header-color); margin-bottom: 20px;">üèõÔ∏è –ó–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å –∑–∞–ª–æ–≤</h3>

{% if report_data %}
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin-top: 20px;">
        {% for hall in report_data %}
        <div class="hall-card">
            <h4 style="margin: 0 0 15px 0; color: var(--primary);">{{ hall.name }}</h4>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; text-align: center; margin-bottom: 15px;">
                <div>
                    <div style="font-size: 0.8em; color: var(--body-quiet-color);">–í—Å–µ–≥–æ –º–µ—Å—Ç</div>
                    <div style="font-size: 1.2em; font-weight: bold; color: var(--body-fg);">{{ hall.total_seats }}</div>
                </div>
                <div>
                    <div style="font-size: 0.8em; color: var(--body-quiet-color);">–°–µ–∞–Ω—Å–æ–≤</div>
                    <div style="font-size: 1.2em; font-weight: bold; color: var(--body-fg);">{{ hall.total_screenings }}</div>
                </div>
            </div>

            <hr style="margin: 10px 0; border-color: var(--border-color);">

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; text-align: center; margin-bottom: 15px;">
                <div>
                    <div style="font-size: 0.8em; color: var(--body-quiet-color);">–ü—Ä–æ–¥–∞–Ω–æ –±–∏–ª–µ—Ç–æ–≤</div>
                    <div style="font-size: 1.2em; font-weight: bold; color: var(--info);">{{ hall.sold_tickets }}</div>
                </div>
                <div>
                    <div style="font-size: 0.8em; color: var(--body-quiet-color);">–í—ã—Ä—É—á–∫–∞</div>
                    <div style="font-size: 1.2em; font-weight: bold; color: var(--success);">{{ hall.total_revenue|floatformat:2 }} —Ä—É–±.</div>
                </div>
            </div>

            <div>
                <div style="font-size: 0.8em; color: var(--body-quiet-color); margin-bottom: 5px;">
                    –ó–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å ({{ hall.occupancy_percent }}%)
                </div>
                <div class="progress" style="height: 25px; position: relative; background: var(--darkened-bg); border-radius: 5px; overflow: hidden;">
                    <!-- –ò–°–ü–†–ê–í–õ–ï–ù–û: –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ -->
                    <div class="progress-bar"
                         style="position: absolute;
                                top: 0;
                                left: 0;
                                height: 100%;
                                background: {% if hall.occupancy_percent > 70 %}var(--success){% elif hall.occupancy_percent > 30 %}var(--warning){% else %}var(--error){% endif %};
                                width: {{ hall.occupancy_percent }}%;
                                border-radius: 5px;
                                transition: width 0.3s ease;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                color: white;
                                font-weight: bold;
                                font-size: 0.8em;
                                min-width: {% if hall.occupancy_percent > 0 %}20px{% else %}0{% endif %};">
                        {% if hall.occupancy_percent > 5 %}{{ hall.occupancy_percent }}%{% endif %}
                    </div>
                    <!-- –ò–°–ü–†–ê–í–õ–ï–ù–û: —Ç–µ–∫—Å—Ç –ø–æ–≤–µ—Ä—Ö –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ –¥–ª—è –º–∞–ª—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π -->
                    {% if hall.occupancy_percent <= 5 %}
                        <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: var(--body-fg); font-weight: bold; font-size: 0.8em;">
                            {{ hall.occupancy_percent }}%
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
{% else %}
    <div class="alert alert-info">
        ‚ÑπÔ∏è –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞–ª–æ–≤ –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥.
    </div>
{% endif %}