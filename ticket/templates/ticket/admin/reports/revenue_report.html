{% load report_filters %}
<h3 style="color: var(--header-color); margin-bottom: 20px;">üìà –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>

{% if report_data %}
    <div class="table-responsive">
        <table class="report-table">
            <thead>
                <tr>
                    <th>–ü–µ—Ä–∏–æ–¥</th>
                    <th>–í—ã—Ä—É—á–∫–∞ (—Ä—É–±.)</th>
                    <th>–ü—Ä–æ–¥–∞–Ω–æ –±–∏–ª–µ—Ç–æ–≤</th>
                </tr>
            </thead>
            <tbody>
                {% for item in report_data %}
                <tr>
                    <td style="font-weight: 600;">
                        {% if item.date %}
                            {{ item.date|date:"d.m.Y" }}
                        {% elif item.week %}
                            –ù–µ–¥–µ–ª—è {{ item.week }}, {{ item.year }}
                        {% else %}
                            {{ item.month }}/{{ item.year }}
                        {% endif %}
                    </td>
                    <td style="font-weight: bold; color: var(--success);">{{ item.revenue|default:0|floatformat:2 }}</td>
                    <td style="color: var(--body-fg);">{{ item.tickets_sold }}</td>
                </tr>
                {% endfor %}
            </tbody>
            <tfoot style="background: var(--darkened-bg); font-weight: bold;">
                <tr>
                    <td style="padding: 12px;">–ò—Ç–æ–≥–æ:</td>
                    <td style="padding: 12px; color: var(--body-fg);">  <!-- –ò–ó–ú–ï–ù–ï–ù–û: —á–µ—Ä–Ω—ã–π —Ü–≤–µ—Ç -->
                        {{ report_data|sum_revenue|floatformat:2 }} —Ä—É–±.
                    </td>
                    <td style="padding: 12px; color: var(--body-fg);">  <!-- –ò–ó–ú–ï–ù–ï–ù–û: —á–µ—Ä–Ω—ã–π —Ü–≤–µ—Ç -->
                        {{ report_data|sum_tickets }}
                    </td>
                </tr>
            </tfoot>
        </table>
    </div>
{% else %}
    <div class="alert alert-info">
        ‚ÑπÔ∏è –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ –≤—ã—Ä—É—á–∫–µ –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥.
    </div>
{% endif %}